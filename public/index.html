<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EduTrack â€” Learning Management</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>

  <!-- LANDING -->
  <div class="view active" id="v-landing">
    <button class="landing-theme-btn" onclick="toggleTheme()"><svg class="theme-icon" viewBox="0 0 24 24">
        <circle cx="12" cy="12" r="5" />
        <line x1="12" y1="1" x2="12" y2="3" />
        <line x1="12" y1="21" x2="12" y2="23" />
        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
        <line x1="1" y1="12" x2="3" y2="12" />
        <line x1="21" y1="12" x2="23" y2="12" />
        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
      </svg></button>
    <div class="hero-chip">Learning Management System</div>
    <div class="hero-title">EDU<span class="y">TRACK</span></div>
    <p class="hero-sub">A unified platform for teachers to manage groups and admins to oversee all operations.</p>
    <div class="landing-cards">
      <div class="landing-card" onclick="goTo('v-teacher-login')">
        <div class="lc-icon"><svg viewBox="0 0 24 24">
            <circle cx="12" cy="8" r="4" />
            <path d="M4 20c0-4 3.6-7 8-7s8 3 8 7" />
            <path d="M19 8l2 2-2 2" />
            <path d="M17 12h4" />
          </svg></div>
        <div class="lc-title">Teacher</div>
        <div class="lc-desc">Manage your groups, track progress, and log student data.</div>
        <div class="lc-arrow">Sign In &rarr;</div>
      </div>
      <div class="landing-card" onclick="goTo('v-admin-login')">
        <div class="lc-icon"><svg viewBox="0 0 24 24">
            <path d="M12 2l7 4v5c0 5-3.5 9.74-7 11-3.5-1.26-7-6-7-11V6l7-4z" />
            <polyline points="9 12 11 14 15 10" />
          </svg></div>
        <div class="lc-title">Admin</div>
        <div class="lc-desc">Full oversight of all teachers, groups, and platform metrics.</div>
        <div class="lc-arrow">Sign In &rarr;</div>
      </div>
    </div>
  </div>

  <!-- ADMIN LOGIN -->
  <div class="view" id="v-admin-login">
    <button class="landing-theme-btn" onclick="toggleTheme()"><svg class="theme-icon" viewBox="0 0 24 24">
        <circle cx="12" cy="12" r="5" />
        <line x1="12" y1="1" x2="12" y2="3" />
        <line x1="12" y1="21" x2="12" y2="23" />
        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
        <line x1="1" y1="12" x2="3" y2="12" />
        <line x1="21" y1="12" x2="23" y2="12" />
        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
      </svg></button>
    <div class="login-box">
      <button class="login-back" onclick="goTo('v-landing')">&#8592;&nbsp; Back</button>
      <div class="login-icon-wrap"><svg viewBox="0 0 24 24">
          <path d="M12 2l7 4v5c0 5-3.5 9.74-7 11-3.5-1.26-7-6-7-11V6l7-4z" />
          <polyline points="9 12 11 14 15 10" />
        </svg></div>
      <div class="login-title">ADMIN <span class="y">LOGIN</span></div>
      <div class="login-subtitle">Enter your admin credentials to continue</div>
      <div class="f-group"><label class="f-label">Username</label><input class="f-input" type="text" id="al-user"
          placeholder="admin" autocomplete="off"></div>
      <div class="f-group"><label class="f-label">Password</label><input class="f-input" type="password" id="al-pass"
          placeholder="&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;"
          onkeydown="if(event.key==='Enter')adminLogin()">
        <div class="f-error" id="al-err">Incorrect username or password.</div>
      </div>
      <button class="btn-login" id="al-btn" onclick="adminLogin()">Sign In to Admin Panel</button>
      <div class="demo-box">
        <div class="demo-title">Demo Credentials</div>
        <div class="demo-row">Username: <span class="demo-val">admin</span></div>
        <div class="demo-row">Password: <span class="demo-val">admin123</span></div>
      </div>
    </div>
  </div>

  <!-- TEACHER LOGIN -->
  <div class="view" id="v-teacher-login">
    <button class="landing-theme-btn" onclick="toggleTheme()"><svg class="theme-icon" viewBox="0 0 24 24">
        <circle cx="12" cy="12" r="5" />
        <line x1="12" y1="1" x2="12" y2="3" />
        <line x1="12" y1="21" x2="12" y2="23" />
        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
        <line x1="1" y1="12" x2="3" y2="12" />
        <line x1="21" y1="12" x2="23" y2="12" />
        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
      </svg></button>
    <div class="login-box">
      <button class="login-back" onclick="goTo('v-landing')">&#8592;&nbsp; Back</button>
      <div class="login-icon-wrap"><svg viewBox="0 0 24 24">
          <circle cx="12" cy="8" r="4" />
          <path d="M4 20c0-4 3.6-7 8-7s8 3 8 7" />
          <path d="M19 8l2 2-2 2" />
          <path d="M17 12h4" />
        </svg></div>
      <div class="login-title">TEACHER <span class="y">LOGIN</span></div>
      <div class="login-subtitle">Sign in with your account credentials</div>
      <div class="f-group"><label class="f-label">Username</label><input class="f-input" type="text" id="tl-user"
          placeholder="e.g. alisher.n" autocomplete="off"></div>
      <div class="f-group"><label class="f-label">Password</label><input class="f-input" type="password" id="tl-pass"
          placeholder="&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;"
          onkeydown="if(event.key==='Enter')teacherLogin()">
        <div class="f-error" id="tl-err">Incorrect username or password.</div>
      </div>
      <button class="btn-login" id="tl-btn" onclick="teacherLogin()">Sign In to Teacher Panel</button>
      <div class="demo-box">
        <div class="demo-title">Demo Teacher Accounts</div>
        <div class="demo-row">alisher.n / <span class="demo-val">teacher123</span></div>
        <div class="demo-row">malika.y / <span class="demo-val">teacher123</span></div>
        <div class="demo-row">bobur.t / <span class="demo-val">teacher123</span></div>
        <div class="demo-row">dilnoza.r / <span class="demo-val">teacher123</span></div>
        <div class="demo-row">sardor.m / <span class="demo-val">teacher123</span></div>
      </div>
    </div>
  </div>

  <!-- TEACHER APP -->
  <div class="view" id="v-teacher-app">
    <nav class="app-nav">
      <div class="nav-logo">EDUTRACK</div>
      <div class="nav-user">
        <button class="theme-toggle" onclick="toggleTheme()"><svg class="theme-icon" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="5" />
            <line x1="12" y1="1" x2="12" y2="3" />
            <line x1="12" y1="21" x2="12" y2="23" />
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
            <line x1="1" y1="12" x2="3" y2="12" />
            <line x1="21" y1="12" x2="23" y2="12" />
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
          </svg></button>
        <div class="nav-avatar" id="t-nav-av"></div>
        <div>
          <div class="nav-uname" id="t-nav-name"></div>
          <div class="nav-role">Teacher</div>
        </div>
        <button class="btn-logout" onclick="logout()">Sign Out</button>
      </div>
    </nav>
    <div style="flex:1">
      <div class="panel-header">
        <div class="panel-title">MY <span class="y">GROUPS</span></div>
        <div class="panel-subtitle" id="t-sub"></div>
      </div>
      <div class="panel-body"><span class="slabel">Your Groups</span><button class="add-btn"
          onclick="openGroupModal()"><span class="add-icon">+</span>Add New Group</button>
        <div class="groups-grid" id="teacher-grid"></div>
      </div>
    </div>
  </div>

  <!-- ADMIN APP -->
  <div class="view" id="v-admin-app">
    <nav class="app-nav">
      <div class="nav-logo">EDUTRACK</div>
      <div class="nav-tabs">
        <button class="nav-tab active" id="atab-overview" onclick="switchAdminTab('overview')">Overview</button>
        <button class="nav-tab" id="atab-groups" onclick="switchAdminTab('groups')">All Groups</button>
        <button class="nav-tab" id="atab-teachers" onclick="switchAdminTab('teachers')">Teachers</button>
      </div>
      <div class="nav-user">
        <button class="theme-toggle" onclick="toggleTheme()"><svg class="theme-icon" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="5" />
            <line x1="12" y1="1" x2="12" y2="3" />
            <line x1="12" y1="21" x2="12" y2="23" />
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
            <line x1="1" y1="12" x2="3" y2="12" />
            <line x1="21" y1="12" x2="23" y2="12" />
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
          </svg></button>
        <div class="nav-avatar">A</div>
        <div>
          <div class="nav-uname">Administrator</div>
          <div class="nav-role">Admin Panel</div>
        </div>
        <button class="btn-logout" onclick="logout()">Sign Out</button>
      </div>
    </nav>
    <div style="flex:1">
      <div class="panel active" id="apanel-overview">
        <div class="panel-header">
          <div class="panel-title">ADMIN <span class="y">OVERVIEW</span></div>
          <div class="panel-subtitle">Platform-wide statistics and summary</div>
        </div>
        <div class="panel-body"><span class="slabel">Platform Stats</span>
          <div class="stats-row" id="admin-stats"></div><span class="slabel">Quick Summary by Language</span>
          <div id="admin-lang-summary"></div>
        </div>
      </div>
      <div class="panel" id="apanel-groups">
        <div class="panel-header">
          <div class="panel-title">ALL <span class="y">GROUPS</span></div>
          <div class="panel-subtitle">Filter and browse every group across all teachers</div>
        </div>
        <div class="panel-body">
          <span class="slabel">Filter by Language</span>
          <div class="filter-row" id="lang-filter-bar"><span class="filter-label">Program:</span><button
              class="filter-btn active" onclick="setLangFilter('all',this)">All</button><button class="filter-btn"
              onclick="setLangFilter('HTML',this)">HTML</button><button class="filter-btn"
              onclick="setLangFilter('CSS',this)">CSS</button><button class="filter-btn"
              onclick="setLangFilter('JavaScript',this)">JavaScript</button><button class="filter-btn"
              onclick="setLangFilter('React JS',this)">React JS</button><button class="filter-btn"
              onclick="setLangFilter('Node JS',this)">Node JS</button></div>
          <span class="slabel" style="margin-top:8px">Filter by Progress</span>
          <div class="filter-row" id="prog-filter-bar"><span class="filter-label">Progress:</span><button
              class="filter-btn active" onclick="setProgFilter('all',this)">All</button><button class="filter-btn"
              onclick="setProgFilter('not-started',this)">Not Started (0%)</button><button class="filter-btn"
              onclick="setProgFilter('in-progress',this)">In Progress (1-99%)</button><button class="filter-btn"
              onclick="setProgFilter('completed',this)">Completed (100%)</button></div>
          <span class="slabel" style="margin-top:8px">Groups by Teacher</span>
          <div id="admin-groups-content"></div>
        </div>
      </div>
      <div class="panel" id="apanel-teachers">
        <div class="panel-header">
          <div class="panel-title">TEACHER <span class="y">PROFILES</span></div>
          <div class="panel-subtitle">Create, manage teacher accounts and view their groups</div>
        </div>
        <div class="panel-body">
          <span class="slabel">All Teachers</span>
          <button class="add-btn" onclick="openTeacherModal()"><span class="add-icon">+</span>Create Teacher
            Account</button>
          <div class="teachers-grid" id="teachers-grid"></div>
          <div style="height:1px;background:var(--border);margin:8px 0 40px"></div>
          <span class="slabel">Groups by Teacher</span>
          <div id="teachers-groups-content"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- ADD GROUP MODAL -->
  <div class="modal-overlay" id="groupModal">
    <div class="modal">
      <div class="modal-hd">
        <div>
          <div class="modal-title">Add New Group</div>
          <div class="modal-sub">Fill in all group details</div>
        </div><button class="modal-close" onclick="closeGroupModal()">&#215;</button>
      </div>
      <div class="form-grid">
        <div class="f-group full"><label class="f-label">Group Name</label><input class="f-input" type="text"
            id="m-name" placeholder="e.g. React Batch 4"></div>
        <div class="f-group"><label class="f-label">Programming Language</label><select class="f-select" id="m-lang"
            onchange="onLangChange()">
            <option value="">Select language</option>
            <option>HTML</option>
            <option>CSS</option>
            <option>JavaScript</option>
            <option>React JS</option>
            <option>Node JS</option>
          </select></div>
        <div class="f-group"><label class="f-label">Class Time</label><input class="f-input" type="time" id="m-time">
        </div>
        <div class="f-group full" id="stage-section" style="display:none"><label class="f-label">Current Level</label>
          <div>
            <div class="stage-months" id="stage-months-row"></div>
            <div class="stage-info-bar" id="stage-info-bar" style="display:none">Level <strong
                id="si-month">-</strong>&nbsp;&#183;&nbsp;Lessons <strong
                id="si-lessons">-</strong>&nbsp;&#183;&nbsp;Total: <strong id="si-total">-</strong> lessons</div>
          </div>
        </div>
        <div class="f-group"><label class="f-label">Start Date</label><input class="f-input" type="date" id="m-start">
        </div>
        <div class="f-group"><label class="f-label">Exam Date</label><input class="f-input" type="date" id="m-exam">
        </div>
        <div class="f-group"><label class="f-label">Number of Students</label><input class="f-input" type="number"
            id="m-students" placeholder="e.g. 20" min="1"></div>
        <div class="f-group"><label class="f-label">Lessons Done (in this level)</label><input class="f-input"
            type="number" id="m-done" placeholder="0" min="0" value="0"></div>
      </div>
      <div class="modal-actions"><button class="btn-submit" id="grp-submit" onclick="submitGroup()">Add
          Group</button><button class="btn-cancel" onclick="closeGroupModal()">Cancel</button></div>
    </div>
  </div>

  <!-- TEACHER MODAL -->
  <div class="modal-overlay" id="teacherModal">
    <div class="modal" style="max-width:480px">
      <div class="modal-hd">
        <div>
          <div class="modal-title" id="tm-title">Create Teacher Account</div>
          <div class="modal-sub" id="tm-sub">Set up login credentials and subject</div>
        </div><button class="modal-close" onclick="closeTeacherModal()">&#215;</button>
      </div>
      <div class="f-group"><label class="f-label">Full Name</label><input class="f-input" type="text" id="tm-name"
          placeholder="e.g. Alisher Nazarov"></div>
      <div class="f-group"><label class="f-label">Username</label><input class="f-input" type="text" id="tm-username"
          placeholder="e.g. alisher.n" autocomplete="off">
        <div class="f-error" id="tm-err">Username already exists.</div>
      </div>
      <div class="f-group"><label class="f-label">Password</label><input class="f-input" type="password" id="tm-pass"
          placeholder="&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;"></div>
      <div class="f-group"><label class="f-label">Subject / Specialization</label><input class="f-input" type="text"
          id="tm-subject" placeholder="e.g. React JS"></div>
      <div class="modal-actions"><button class="btn-submit" id="tm-submit" onclick="submitTeacher()">Create
          Account</button><button class="btn-cancel" onclick="closeTeacherModal()">Cancel</button></div>
    </div>
  </div>

  <!-- CONFIRM DELETE MODAL -->
  <div class="modal-overlay" id="confirmModal">
    <div class="modal confirm-modal">
      <div class="modal-hd">
        <div>
          <div class="modal-title">Confirm Delete</div>
        </div><button class="modal-close" onclick="closeConfirm()">&#215;</button>
      </div>
      <div class="confirm-msg" id="confirm-msg"></div>
      <div class="modal-actions"><button class="btn-submit" style="background:var(--red);border-color:var(--red)"
          id="confirm-ok">Delete</button><button class="btn-cancel" onclick="closeConfirm()">Cancel</button></div>
    </div>
  </div>

  <div class="toast" id="toast">
    <div class="toast-dot"></div><span id="toast-msg"></span>
  </div>

  <script src="app.js"></script>
</body>

</html>